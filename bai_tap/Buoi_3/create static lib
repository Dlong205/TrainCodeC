File mylib.h (header file)

#ifndef MYLIB_H
#define MYLIB_H

void menu();
void nhapMang(int a[], int *n);
void xuatMang(int a[], int n);
void tangDan(int a[], int n, int tam);
void giamDan(int a[], int n, int tam);
void timGT(int a[], int b[], int n, int trung, int dem);
void xoaTheoGiaTri(int a[], int *n);
void chenPhanTu(int a[], int *n);
void daoNguocDay(int a[], int n);

#endif

File mylib.c (implementation file)

#include <stdio.h>
#include "mylib.h"

// CÃ i Ä‘áº·t cÃ¡c hÃ m Ä‘Ã£ khai bÃ¡o trong mylib.h
void menu() {
    printf("Menu here\n");
}

void nhapMang(int a[], int *n) {
    printf("Nhap so phan tu: ");
    scanf("%d", n);
    for (int i = 0; i < *n; i++) {
        printf("a[%d] = ", i);
        scanf("%d", &a[i]);
    }
}

void xuatMang(int a[], int n) {
    for (int i = 0; i < n; i++) {
        printf("%d ", a[i]);
    }
    printf("\n");
}

// (Viáº¿t tiáº¿p cÃ¡c hÃ m khÃ¡c...)

ğŸ“Œ 2. BiÃªn dá»‹ch mylib.c thÃ nh file object (.o)

Cháº¡y lá»‡nh sau:

gcc -c mylib.c -o mylib.o

Lá»‡nh nÃ y táº¡o file mylib.o chá»©a mÃ£ mÃ¡y cá»§a thÆ° viá»‡n.
ğŸ“Œ 3. Táº¡o thÆ° viá»‡n tÄ©nh (libmylib.a)

Cháº¡y lá»‡nh sau:

ar rcs libmylib.a mylib.o

Lá»‡nh nÃ y táº¡o thÆ° viá»‡n libmylib.a tá»« mylib.o.
ğŸ“Œ 4. DÃ¹ng thÆ° viá»‡n tÄ©nh trong chÆ°Æ¡ng trÃ¬nh main.c

File main.c

#include <stdio.h>
#include "mylib.h"

int main() {
    int arr[100], n;
    nhapMang(arr, &n);
    xuatMang(arr, n);
    return 0;
}

ğŸ“Œ 5. BiÃªn dá»‹ch main.c vá»›i thÆ° viá»‡n tÄ©nh

Cháº¡y lá»‡nh sau:

gcc main.c -o main.out -L. -lmylib

Giáº£i thÃ­ch:

    -L.: Chá»‰ Ä‘Æ°á»ng dáº«n Ä‘áº¿n thÆ° viá»‡n (. lÃ  thÆ° má»¥c hiá»‡n táº¡i)
    -lmylib: Link thÆ° viá»‡n libmylib.a (bá» lib vÃ  .a khi dÃ¹ng -l)

ğŸ“Œ 6. Cháº¡y chÆ°Æ¡ng trÃ¬nh

./main.out

ğŸ’¡ LÆ°u Ã½ quan trá»ng: Náº¿u gáº·p lá»—i "undefined reference", kiá»ƒm tra:

    File mylib.o vÃ  libmylib.a cÃ³ Ä‘Æ°á»£c táº¡o chÆ°a (ls Ä‘á»ƒ kiá»ƒm tra).
    Khi biÃªn dá»‹ch, cÃ³ -L. vÃ  -lmylib khÃ´ng.
    mylib.h cÃ³ khai bÃ¡o Ä‘áº§y Ä‘á»§ cÃ¡c hÃ m khÃ´ng.


